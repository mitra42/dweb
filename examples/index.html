<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>DWEB Demonstration page</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script><!-- Jquery via Google -->
    <!--<script src="/file/sb/SHA3256B64URL.BDCbn_l9rrlCdVkB9o6qozSP84HBCGors5dBLxdyro8="></script><!-- jquery-3.1.1.js-->
    <script src="/file/mb/SHA3256B64URL.OylzjhbKQK5VOVMbvdK9Dkb4UDfOEHU8uCeSnzqiseE="></script><!-- dweb.js -->
    <!--<script src='/dweb/tinymce/tinymce.min.js'></script><!-- TinyMCE -->
    <!--<script src='//cloud.tinymce.com/stable/tinymce.min.js'></script><!-- TinyMCE -->
    <script src='/file/mb/SHA3256B64URL.88S-FYlEN1iF3WuDRdXoR8SyMUG6crR5ehM21IvUuS0=/tinymce.min.js'></script><!-- TinyMCE -->
    <script>//TODO this needs lots of work to be pretty editor
        // url for content is: SHA3256B64URL.CLw7p4lteb5oxmXBkuk9lDqM89hRic7RPITGWg1AAD4=
        //dwebfile("mytextarea", "mb", "SHA3256B64URL.CLw7p4lteb5oxmXBkuk9lDqM89hRic7RPITGWg1AAD4="); // Via Public URL

        tinymce.init({
            selector: '#mytextarea',
            plugins: "save",
            toolbar: "save",
            save_onsavecallback: function() {
                content = tinyMCE.get('mytextarea').getContent();
                hash = "SHA3256B64URL.hqPCPdsFLTaaWBgyySJmOyvVan80bBGVdyWTSESIFUw="; // Make a parameter
                // alert(content);
                type = "text%2Fhtml";
                dwebupdate("myDiv", "mbm", hash, type, content);  // Post to Dweb and store URL at myDiv
            }
        });

        // This is my current testing script first of block
        console.log("Block=======");
        let b = new Block("SHA3256B64URL.50GNWgUQ9GgrVfMvpedEg77ByMRYkUgPRU9P1gWaNF8=", null); // Block with "clever dog..."
        b.block(null, true, {"dom_id": "myList.0"});      // Load block in background
        // Now of SB
        console.log("StructuredBlock=======");
        let sb = new StructuredBlock("SHA3256B64URL.3cYngB_KO0luf2jQG6G5KPr-PKt7RQlgzzwRC5LBohw=");
        sb.load(true, {"dom_id": "myList.1"} ); // hash of SB containing data containing "I'm a paragraph" // Load SB in background
        // Now MB
        console.log("MutableBlock=======");
        dweblist("List2", "SHA3256B64URL.CLw7p4lteb5oxmXBkuk9lDqM89hRic7RPITGWg1AAD4=", true);
    </script>

</head>
<body>
<H1>DWEB Demonstration Web</H1>
<p>This page is a demonstration page for the Decentralized Web.</p>
<p>It will includue a range of features as they are added to DWEB</p>
<p>
    <img src="/file/sb/SHA3256B64URL.BwruLe5Il5EMV-_CaNzPFfUxiibzt2Eg-pKE2ipyj9k=" width="50px" align="left"><!--wrench-->
    This is an image loaded by an absolute dweb URL not via the library</p>

<ul id="myList"><li id="myList.0">Text replaced with a Block</li><li id="myList.1">Text replaced with a StructuredBlock</li></ul>
<h4>List replaced by MutableBlock</h4>
<ul id="List2"><li>What was there before - should be replaced</li></ul>
<h4>Architecture of DWeb</h4>
<p>
    <img src="/file/mb/SHA3256B64URL.WNeNk2VOGhlVkhk7hbZ1xU0OVlMRQnaMl3UP0sNm6i4="><!--diagram-->
</p>
<form method="post"><!--TODO see if it needs the form-->
    <textarea id="mytextarea" width="60%">Testing</textarea>
</form>
<div>Last saved to:<span id="myDiv" name="myDiv">Unreplaced text</span></div>
<h3>Experimental from here on down</h3>
<p>This is a good place to put links to other tests - working or not.</p>
<h4>List to be loaded by a button</h4>

<p>This page is a current test, will just be testing current (usually broken) stuff.</p>
</body>
</html>

