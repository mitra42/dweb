<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>DWEB Demonstration page</title>
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script><!-- Jquery via Google -->
    <script src="/file/sb/SHA3256B64URL.NbMBEb-Iq7EwgfCWqtrGB14tIcAcv5v5s2m9o7aLu6Y="></script><!-- jquery-3.1.1.js-->
    <script src="/file/mb/SHA3256B64URL.vVaaIWT976GT8_oVr_eKQxIgWqUdCH9Nf0PCZhQ2iTw="></script><!-- dweb.js -->
    <!--<script src='/dweb/tinymce/tinymce.min.js'></script><!-- TinyMCE -->
    <!--<script src='//cloud.tinymce.com/stable/tinymce.min.js'></script><!-- TinyMCE -->
    <script src='/file/mb/SHA3256B64URL.JHqfnJNzZzaY76qZSbSO21N3PK8gXBmtjAK48ONpA9k=/tinymce.min.js'></script><!-- TinyMCE via relative URL-->
    <script>//TODO this needs lots of work to be pretty editor
        // url for content is: SHA3256B64URL.CLw7p4lteb5oxmXBkuk9lDqM89hRic7RPITGWg1AAD4=
        //dwebfile("mytextarea", "mb", "SHA3256B64URL.CLw7p4lteb5oxmXBkuk9lDqM89hRic7RPITGWg1AAD4="); // Via Public URL

        tinymce.init({
            selector: '#mytextarea',
            plugins: "save",
            toolbar: "save",
            save_onsavecallback: function() {
                content = tinyMCE.get('mytextarea').getContent();
                hash = "SHA3256B64URL.gy5hH5zw_rUlb9RG1DeXDXGtbTvXJ5sERJC5tFtYIII="; // The privatehash of the "snippet.html editable - should be a parameter
                // alert(content);
                type = "text%2Fhtml";
                dwebupdate(hash, type, content, {"elem": "myDiv"});  // Post to Dweb and store URL at myDiv
            }
        });

        // Demonstrate how to load various features using either simplified functions (dwebfile, dweblist) or objects (Block, StructuredBlock)
        // This is my current testing script first of block
        console.log("Block=======");
        let b = new Block("SHA3256B64URL.50GNWgUQ9GgrVfMvpedEg77ByMRYkUgPRU9P1gWaNF8=", null); // Block with "clever dog..."
        b.load(true, {"elem": "myList.0"});      // Load block in background
        // Now of SB
        console.log("StructuredBlock=======");
        let sb = new StructuredBlock("SHA3256B64URL.-t0rXKuIYpnxrvsVeAffH57bGtoSjjYBQ2gZgUJB5i4="); // This comes from looking in list/..hash of MB below..
        sb.load(true, {"elem": "myList.1"} ); // hash of SB containing data containing "I'm a paragraph" // Load SB in background
        // Now MB
        console.log("MutableBlock=======");
        dweblist("List2", "SHA3256B64URL.4MyChBfwQgiMKKy8hzJRU7QkTIa8L9sjQzMys4XLT5U=", true);  // Hash of snippet.html
    </script>

</head>
<body>
<H1>DWEB Demonstration Web</H1>
<p>This page is a demonstration page for the Decentralized Web.</p>
<p>It will includue a range of features as they are added to DWEB</p>
<p>
    <img src="/file/sb/SHA3256B64URL.4HKTuYB7dvj8dB7JTTFt9_r51TFKQ3du-Cfi5xbrCXw=" width="50px" align="left"><!--wrench-->
    This is an image loaded by an absolute dweb URL not via the library</p>

<ul id="myList"><li id="myList.0">Text replaced with a Block</li><li id="myList.1">Text replaced with a StructuredBlock</li></ul>
<h4>List replaced by MutableBlock</h4>
<ul id="List2"><li>What was there before - should be replaced</li></ul>
<h4>Architecture of DWeb</h4>
<p>
    <img src="/file/mb/SHA3256B64URL.20kEtLsILxSHUFgyN5yFC8UlF4fQAsKZXiWx6di_rRA="><!--diagram-->
</p>
<form method="post"><!--TODO see if it needs the form-->
    <textarea id="mytextarea" width="60%">Testing</textarea>
</form>
<div>Last saved to:<span id="myDiv" name="myDiv">Unreplaced text</span></div>
<h3>Experimental from here on down</h3>
<p>This is a good place to put links to other tests - working or not.</p>
<a href="/file/mb/SHA3256B64URL.pDaVoHks4FVLN1KcSk5i5c_xOQVh2bZpfnWSrOCwemQ=/index.html">Documentation in Sphinx</a>
<a href="/file/mb/SHA3256B64URL.10X6_IGbmgts2BqFk7qozQajP9y3ClBYXMAengFba1E=">test.html</a>
<a href="/file/mb/SHA3256B64URL.KxhjwYPKxDmZOdXeMuf_Zi8sS5AMUwnnFxfMFp-WDs8=">Object Browser</a>
<h4>List to be loaded by a button</h4>

<p>This page is a current test, will just be testing current (usually broken) stuff.</p>
</body>
</html>

